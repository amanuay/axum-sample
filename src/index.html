<!DOCTYPE html>
<html>

<head>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const container = document.getElementById('container');

      setInterval(async () => {
        let response = await fetch("/api/sysinfo");
        if (response.status !== 200) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }

        let json = await response.json();

        //document.body.textContent = JSON.stringify(json, null, 2);

        container.textContent = '';

        json.forEach(item => {
          const block = document.createElement('div');
          block.classList.add('block');
          block.innerHTML = `<p>usage: ${item}</p>`;
          container.appendChild(block);
        });
      }, 200);
    });
  </script>
  <style>
    html {
      font-family: Helvetica, sans-serif;
    }
  </style>

  <title>
    axum sample app
  </title>
</head>

<body>
  <div id="container">
  </div>
</body>

</html>